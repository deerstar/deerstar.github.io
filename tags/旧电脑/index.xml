<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æ—§ç”µè„‘ on DeerStarçš„åšå®¢</title><link>https://deerstar.xyz/tags/%E6%97%A7%E7%94%B5%E8%84%91/</link><description>Recent content in æ—§ç”µè„‘ on DeerStarçš„åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 24 Dec 2025 12:00:00 +0800</lastBuildDate><atom:link href="https://deerstar.xyz/tags/%E6%97%A7%E7%94%B5%E8%84%91/index.xml" rel="self" type="application/rss+xml"/><item><title>è€æœºæ”¹é€ å®æˆ˜ï¼šPVEè™šæ‹ŸåŒ–å¹³å°æ­å»ºä¸PCIEç›´é€šé…ç½®</title><link>https://deerstar.xyz/2025/system-tools-collection/</link><pubDate>Wed, 24 Dec 2025 12:00:00 +0800</pubDate><guid>https://deerstar.xyz/2025/system-tools-collection/</guid><description>&lt;h1 id="è€ç¾Šæœºä¸Šæ‰‹pveè™šæ‹ŸåŒ–ä¸ºfpgaæµ‹è¯•åšå‡†å¤‡"&gt;è€ç¾Šæœºä¸Šæ‰‹PVEè™šæ‹ŸåŒ–ï¼šä¸ºFPGAæµ‹è¯•åšå‡†å¤‡
&lt;/h1&gt;
&lt;h2 id="å†™åœ¨å‰é¢"&gt;å†™åœ¨å‰é¢
&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘å·¥ä½œä¸Šå¯èƒ½éœ€è¦æµ‹è¯•FPGAæ¿å¡çš„é‡‘æ‰‹æŒ‡è¿æ¥ï¼Œæƒ³ç€èƒ½ä¸èƒ½åœ¨å®¶é‡Œæ­ä¸ªæµ‹è¯•ç¯å¢ƒã€‚æ­£å¥½æ‰‹é‡Œæœ‰å°2017å¹´é…çš„i5-8400è€ç¾Šæœºåƒç°ï¼Œç´¢æ€§æ‹¿æ¥è£…ä¸ªPVEï¼ˆProxmox VEï¼‰è™šæ‹ŸåŒ–å¹³å°ï¼Œæ—¢èƒ½è·‘é£ç‰›NASï¼Œåˆèƒ½è·‘Win10æµ‹è¯•ç¯å¢ƒï¼Œè¿˜èƒ½é¢„ç•™PCIEæ§½ç»™FPGAæ¿å¡ç›´é€šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹æ•´ä¸ªå®‰è£…é…ç½®è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯PCIEç›´é€šè¿™å—å„¿è¸©äº†ç‚¹å‘ï¼Œåšä¸ªå¤‡å¿˜ã€‚&lt;/p&gt;
&lt;h2 id="ç¡¬ä»¶é…ç½®"&gt;ç¡¬ä»¶é…ç½®
&lt;/h2&gt;
&lt;p&gt;å…ˆæ™’ä¸€ä¸‹è€ç¾Šæœºçš„é…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPU&lt;/strong&gt;: Intel i5-8400ï¼ˆ6æ ¸å¿ƒï¼Œå¸¦UHD 630æ ¸æ˜¾ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æ¿&lt;/strong&gt;: å¾®æ˜ŸB360Mè¿«å‡»ç‚®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜&lt;/strong&gt;: 16G DDR4&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;ä¸‰æ˜Ÿ960 EVO 250G NVMeå›ºæ€ï¼ˆè£…PVEç³»ç»Ÿï¼‰&lt;/li&gt;
&lt;li&gt;è¥¿æ•°2TBæœºæ¢°ç›˜ï¼ˆç»™é£ç‰›OSç”¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”µæº&lt;/strong&gt;: 500W&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¡¬ä»¶ä¸ç®—æ–°ï¼Œä½†è™šæ‹ŸåŒ–å¤Ÿç”¨äº†ã€‚å…³é”®æ˜¯ä¸»æ¿æ”¯æŒVT-dï¼Œèƒ½åšPCIEç›´é€šã€‚&lt;/p&gt;
&lt;h2 id="éœ€æ±‚åˆ†æ"&gt;éœ€æ±‚åˆ†æ
&lt;/h2&gt;
&lt;p&gt;æˆ‘çš„è§„åˆ’æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ ¸æ˜¾ç»™PVEå®¿ä¸»æœºç”¨&lt;/strong&gt; - è¿™æ ·PVEéšæ—¶èƒ½çœ‹åˆ°ç”»é¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;x16 PCIEæ§½ä¿ç•™ç›´é€šåŠŸèƒ½&lt;/strong&gt; - å°†æ¥æ’FPGAæ¿å¡æˆ–è€…ç‹¬æ˜¾ï¼Œå¯ä»¥ç›´é€šç»™è™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·‘é£ç‰›OSåšNAS&lt;/strong&gt; - ç®¡ç†å®¶é‡Œçš„æ–‡ä»¶å’Œç…§ç‰‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·‘Win10è™šæ‹Ÿæœº&lt;/strong&gt; - ä¸‡ä¸€éœ€è¦Windowsç¯å¢ƒæµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‡ç‚¹æ˜¯æå‰é…ç½®å¥½PCIEç›´é€šï¼Œé¿å…å°†æ¥æ’FPGAæ¿å¡æ—¶å†æŠ˜è…¾ã€‚&lt;/p&gt;
&lt;h2 id="å®‰è£…è¿‡ç¨‹"&gt;å®‰è£…è¿‡ç¨‹
&lt;/h2&gt;
&lt;h3 id="ä¸€biosè®¾ç½®"&gt;ä¸€ã€BIOSè®¾ç½®
&lt;/h3&gt;
&lt;p&gt;å¼€æœºç‹‚æŒ‰Delè¿›BIOSï¼Œå¾®æ˜Ÿè¿™å—æ¿å­è®¾ç½®ä½ç½®æ¯”è¾ƒç‰¹åˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼€å¯è™šæ‹ŸåŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›å…¥é«˜çº§æ¨¡å¼ï¼ˆF7é”®ï¼‰&lt;/li&gt;
&lt;li&gt;OC â†’ CPUç‰¹æ€§ â†’ Intelè™šæ‹ŸåŒ–æŠ€æœ¯ â†’ &lt;strong&gt;å¯ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;OC â†’ CPUç‰¹æ€§ â†’ Intel VT-DæŠ€æœ¯ â†’ &lt;strong&gt;å¯ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸æ˜¾è®¾ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Settings â†’ é«˜çº§ â†’ é›†æˆæ˜¾å¡é…ç½®&lt;/li&gt;
&lt;li&gt;é›†æˆæ˜¾å¡å¤šæ˜¾ç¤ºå™¨ â†’ &lt;strong&gt;å¯ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ˜¾å¡ â†’ é€‰æ‹© &lt;strong&gt;IGD&lt;/strong&gt;ï¼ˆæ ¸æ˜¾ä¼˜å…ˆï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨æ„å¾®æ˜Ÿä¸»æ¿VT-Dé€‰é¡¹è—åœ¨OCèœå•é‡Œï¼Œåˆ«æ‰¾é”™åœ°æ–¹ã€‚&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;&lt;strong&gt;PCIEè®¾ç½®ï¼ˆå¯é€‰ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Settings â†’ é«˜çº§ â†’ PCIå­ç³»ç»Ÿè®¾ç½®&lt;/li&gt;
&lt;li&gt;Above 4G Decoding â†’ &lt;strong&gt;å¯ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¿å­˜é€€å‡ºï¼Œå‡†å¤‡è£…ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id="äºŒåˆ¶ä½œå¯åŠ¨ç›˜"&gt;äºŒã€åˆ¶ä½œå¯åŠ¨ç›˜
&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä»Proxmoxå®˜ç½‘ä¸‹è½½æœ€æ–°ISOï¼ˆæˆ‘è£…çš„æ˜¯PVE 9.1ï¼‰&lt;/li&gt;
&lt;li&gt;ç”¨Ventoyåšå¯åŠ¨ç›˜ï¼ˆæ¯”Rufusæ–¹ä¾¿ï¼Œä¸€ä¸ªUç›˜èƒ½æ”¾å¤šä¸ªISOï¼‰&lt;/li&gt;
&lt;li&gt;æ’Uç›˜é‡å¯ï¼Œé€‰UEFIå¯åŠ¨æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿›Ventoyåé€‰Normal Modeå¯åŠ¨PVEçš„ISOã€‚&lt;/p&gt;
&lt;h3 id="ä¸‰å®‰è£…pveç³»ç»Ÿ"&gt;ä¸‰ã€å®‰è£…PVEç³»ç»Ÿ
&lt;/h3&gt;
&lt;p&gt;å®‰è£…ç•Œé¢æ¯”è¾ƒå‹å¥½ï¼ŒæŒ‰æç¤ºèµ°å°±è¡Œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é€‰æ‹©ç£ç›˜&lt;/strong&gt; - é€‰250Gä¸‰æ˜Ÿå›ºæ€ï¼Œæ–‡ä»¶ç³»ç»Ÿé»˜è®¤ext4&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ°åŒºæ—¶åŒº&lt;/strong&gt; - Countryé€‰Chinaï¼Œæ—¶åŒºAsia/Shanghai&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¾ç½®å¯†ç &lt;/strong&gt; - è®°ä½rootå¯†ç ï¼Œè¿™ä¸ªå¾ˆé‡è¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œé…ç½®&lt;/strong&gt; -
&lt;ul&gt;
&lt;li&gt;IPåœ°å€ï¼š192.168.1.100ï¼ˆæ”¹æˆä½ è·¯ç”±å™¨ç½‘æ®µçš„ï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘å…³ï¼š192.168.1.1&lt;/li&gt;
&lt;li&gt;DNSï¼š192.168.1.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¤§æ¦‚5-10åˆ†é’Ÿè£…å®Œï¼Œæ‹”Uç›˜é‡å¯ã€‚&lt;/p&gt;
&lt;h3 id="å››é…ç½®iommuç›´é€š"&gt;å››ã€é…ç½®IOMMUç›´é€š
&lt;/h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†æ˜¯é‡ç‚¹ï¼Œä¹Ÿæ˜¯è¸©å‘æœ€å¤šçš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;h4 id="1-å¼€å¯iommu"&gt;1. å¼€å¯IOMMU
&lt;/h4&gt;
&lt;p&gt;é‡å¯åç”¨rootç™»å½•å‘½ä»¤è¡Œï¼Œç¼–è¾‘GRUBé…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;nano /etc/default/grub
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰¾åˆ°è¿™ä¸€è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;GRUB_CMDLINE_LINUX_DEFAULT=&amp;#34;quiet&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ”¹æˆï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;GRUB_CMDLINE_LINUX_DEFAULT=&amp;#34;quiet intel_iommu=on iommu=pt&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¿å­˜åæ›´æ–°GRUBï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;update-grub
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="2-åŠ è½½vfioæ¨¡å—"&gt;2. åŠ è½½VFIOæ¨¡å—
&lt;/h4&gt;
&lt;p&gt;é‡å¯ç™»å½•åï¼Œåˆ›å»ºæ¨¡å—é…ç½®æ–‡ä»¶ã€‚&lt;strong&gt;è¿™é‡Œæœ‰ä¸ªå‘&lt;/strong&gt;ï¼šPVE 9.1å·²ç»ä¸ç”¨ &lt;code&gt;/etc/modules&lt;/code&gt; äº†ï¼Œæ”¹ç”¨ &lt;code&gt;/etc/modules-load.d/&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;nano /etc/modules-load.d/vfio.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ·»åŠ è¿™ä¸‰è¡Œï¼ˆæ³¨æ„PVE 8ä»¥åä¸éœ€è¦vfio_virqfdäº†ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio_iommu_type1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio_pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¿å­˜åæ›´æ–°initramfsï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;update-initramfs -u -k all
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="3-éªŒè¯é…ç½®"&gt;3. éªŒè¯é…ç½®
&lt;/h4&gt;
&lt;p&gt;é‡å¯åæ£€æŸ¥IOMMUæ˜¯å¦å¼€å¯ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dmesg &lt;span class="p"&gt;|&lt;/span&gt; grep -e DMAR -e IOMMU
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çœ‹åˆ°ç±»ä¼¼ &lt;code&gt;DMAR: IOMMU enabled&lt;/code&gt; å°±è¯´æ˜æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ£€æŸ¥VFIOæ¨¡å—æ˜¯å¦åŠ è½½ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lsmod &lt;span class="p"&gt;|&lt;/span&gt; grep vfio
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åº”è¯¥èƒ½çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio_pci
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio_iommu_type1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vfio
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ£€æŸ¥è®¾å¤‡è¯†åˆ«ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lspci &lt;span class="p"&gt;|&lt;/span&gt; grep -i vga
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;èƒ½çœ‹åˆ°æ ¸æ˜¾ UHD 630 å°±OKã€‚&lt;/p&gt;
&lt;h4 id="4-æŸ¥çœ‹iommuåˆ†ç»„"&gt;4. æŸ¥çœ‹IOMMUåˆ†ç»„
&lt;/h4&gt;
&lt;p&gt;è¿™æ­¥å¾ˆå…³é”®ï¼Œè¦ç¡®è®¤x16æ§½æ˜¯å¦åœ¨ç‹¬ç«‹çš„IOMMUç»„ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; d in /sys/kernel/iommu_groups/*/devices/*&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;d&lt;/span&gt;&lt;span class="p"&gt;#*/iommu_groups/*&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nv"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;n&lt;/span&gt;&lt;span class="p"&gt;%%/*&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;IOMMU Group %s &amp;#39;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$n&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; lspci -nns &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;d&lt;/span&gt;&lt;span class="p"&gt;##*/&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç†æƒ³æƒ…å†µæ˜¯x16æ§½ï¼ˆä¸€èˆ¬æ˜¯01:00.0ï¼‰å•ç‹¬åœ¨ä¸€ä¸ªç»„ã€‚å¦‚æœå’Œå…¶ä»–è®¾å¤‡ç»‘åœ¨ä¸€èµ·ï¼Œå°†æ¥å¯èƒ½éœ€è¦ç”¨ACSè¡¥ä¸ã€‚&lt;/p&gt;
&lt;h3 id="äº”è®¿é—®webç®¡ç†ç•Œé¢"&gt;äº”ã€è®¿é—®Webç®¡ç†ç•Œé¢
&lt;/h3&gt;
&lt;p&gt;é…ç½®å®Œæˆåï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®PVEäº†ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;https://192.168.1.100:8006
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç”¨æˆ·åï¼š&lt;code&gt;root&lt;/code&gt;&lt;br&gt;
å¯†ç ï¼šå®‰è£…æ—¶è®¾ç½®çš„é‚£ä¸ª&lt;/p&gt;
&lt;h2 id="é‡åˆ°çš„é—®é¢˜"&gt;é‡åˆ°çš„é—®é¢˜
&lt;/h2&gt;
&lt;h3 id="1-modulesé…ç½®æ–‡ä»¶è·¯å¾„"&gt;1. modulesé…ç½®æ–‡ä»¶è·¯å¾„
&lt;/h3&gt;
&lt;p&gt;ä¸€å¼€å§‹æˆ‘æŒ‰ç½‘ä¸Šæ•™ç¨‹æ”¹ &lt;code&gt;/etc/modules&lt;/code&gt;ï¼Œç»“æœç³»ç»Ÿæç¤ºè¿™ä¸ªæ–‡ä»¶å·²ç»è¢« &lt;code&gt;/etc/modules-load.d/&lt;/code&gt; æ›¿ä»£äº†ã€‚PVE 9.1ç”¨çš„æ˜¯systemdçš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼Œè¦åœ¨ &lt;code&gt;/etc/modules-load.d/&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»º.confæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•™è®­&lt;/strong&gt;ï¼šä¸è¦ç›²ç›®å¥—ç”¨è€æ•™ç¨‹ï¼Œå…ˆçœ‹ç³»ç»Ÿæç¤ºã€‚&lt;/p&gt;
&lt;h3 id="2-pveshå‘½ä»¤æŠ¥é”™"&gt;2. pveshå‘½ä»¤æŠ¥é”™
&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;pvesh get /nodes/pve/hardware/pci&lt;/code&gt; æ—¶æŠ¥ &amp;ldquo;no get handler define&amp;rdquo; é”™è¯¯ã€‚åæ¥å‘ç°ç”¨ &lt;code&gt;lspci&lt;/code&gt; å‘½ä»¤æ›´ç›´æ¥ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;h3 id="3-biosè®¾ç½®ä½ç½®"&gt;3. BIOSè®¾ç½®ä½ç½®
&lt;/h3&gt;
&lt;p&gt;å¾®æ˜ŸB360Mè¿«å‡»ç‚®çš„VT-Dé€‰é¡¹åœ¨&amp;quot;OC&amp;quot;èœå•é‡Œï¼Œä¸åœ¨&amp;quot;Advanced&amp;quot;é‡Œã€‚ä¸åŒä¸»æ¿å‚å•†çš„BIOSå¸ƒå±€å·®å¼‚æŒºå¤§çš„ï¼Œå¾—è‡ªå·±ç¿»ä¸€éã€‚&lt;/p&gt;
&lt;h2 id="ä¸‹ä¸€æ­¥"&gt;ä¸‹ä¸€æ­¥
&lt;/h2&gt;
&lt;p&gt;ç°åœ¨PVEç³»ç»Ÿè£…å¥½äº†ï¼ŒIOMMUç›´é€šä¹Ÿé…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å‡†å¤‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºé£ç‰›OSè™šæ‹Ÿæœºï¼Œç›´é€šç½‘å£å’Œæœºæ¢°ç¡¬ç›˜&lt;/li&gt;
&lt;li&gt;åˆ›å»ºWin10è™šæ‹Ÿæœºï¼Œå…ˆç”¨è™šæ‹Ÿæ˜¾å¡è·‘èµ·æ¥&lt;/li&gt;
&lt;li&gt;ç­‰FPGAæ¿å¡åˆ°æ‰‹åï¼Œæ’x16æ§½æµ‹è¯•PCIEç›´é€š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹èŠ±äº†å¤§åŠå¤©æ—¶é—´ï¼Œä¸»è¦æ˜¯è¸©å‘å’ŒæŸ¥èµ„æ–™ã€‚ä¸è¿‡æŠ˜è…¾å®Œè¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„ï¼Œè€æœºå™¨ç„•å‘ç¬¬äºŒæ˜¥äº†ğŸ˜„&lt;/p&gt;
&lt;h2 id="å‚è€ƒèµ„æ–™"&gt;å‚è€ƒèµ„æ–™
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://pve.proxmox.com/wiki/PCI%28e%29_Passthrough" target="_blank" rel="noopener"
&gt;Proxmoxå®˜æ–¹æ–‡æ¡£ - PCI Passthrough&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://forum.proxmox.com/threads/pci-gpu-passthrough-on-proxmox-ve-8-installation-and-configuration.130218/" target="_blank" rel="noopener"
&gt;Proxmoxè®ºå› - GPU Passthroughæ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æœ¬æ–‡è®°å½•äº2025å¹´12æœˆï¼Œç¡¬ä»¶é…ç½®å’Œè½¯ä»¶ç‰ˆæœ¬ä»…ä¾›å‚è€ƒã€‚&lt;/em&gt;&lt;/p&gt;</description></item></channel></rss>